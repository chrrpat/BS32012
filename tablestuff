CREATE TABLE gene (
geneid varchar(255) not null  primary key,
genename varchar(255) not null,
genedes varchar(255) 
);
	
describe gene;

LOAD DATA LOCAL INFILE '/homes/ctpaterson/Project/genesNEW.txt' INTO TABLE gene 
(geneid, genename, genedes);

CREATE TABLE probes (
ID_ref integer not null primary key,
geneid varchar(255) not null,
FOREIGN KEY (geneid) REFERENCES gene(geneid)
);

LOAD DATA LOCAL INFILE '/homes/ctpaterson/Project/probesNEW.txt' INTO TABLE probes  ( ID_ref,geneid) ;
	

CREATE TABLE expression (
sampleid varchar(50) not null primary key,
ID_ref integer not null,
FOREIGN KEY (ID_ref) REFERENCES probes(ID_ref),
expression float not null
);



LOAD DATA LOCAL INFILE '/homes/ctpaterson/Project/expressionNEW.txt' INTO TABLE expression  ( sampleid,ID_ref,expression) ;

CREATE TABLE samples (
sampleid varchar(50) not null,
FOREIGN KEY (sampleid) REFERENCES expression(sampleid),
subject varchar(4) not null,
trimester varchar(12) not null
);


LOAD DATA LOCAL INFILE '/homes/ctpaterson/Project/samples.txt' INTO TABLE samples ignore 1 lines (sampleid,subject,trimester) ;